(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"424e":function(t,e,o){"use strict";o("908f")},"908f":function(t,e,o){},bc13:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"relative-position"},[o("q-scroll-area",{staticClass:"absolute full-width full-height"},[o("div",{staticClass:"q-py-lg q-px-md row items-end q-col-gutter-md"},[o("div",{staticClass:"col"},[o("q-input",{staticClass:"new-post",attrs:{"bottom-slots":"",label:"What's Happening?",counter:"",autogrow:"",maxlength:"280"},scopedSlots:t._u([{key:"before",fn:function(){return[o("q-avatar",{attrs:{size:"xl"}},[o("img",{attrs:{src:"https://en.gravatar.com/userimage/202821422/a87e067304889e88293c27db83cba1e3.jpeg"}})])]},proxy:!0}]),model:{value:t.newPostContent,callback:function(e){t.newPostContent=e},expression:"newPostContent"}})],1),o("div",{staticClass:"col col-shrink"},[o("q-btn",{staticClass:"q-mb-lg",attrs:{unelevated:"",rounded:"","no-caps":"",disable:!t.newPostContent,color:"primary",label:"Post"},on:{click:t.addNewPost}})],1)]),o("q-separator",{staticClass:"divider",attrs:{size:"10px",color:"grey-2"}}),o("q-list",{attrs:{separator:""}},[o("transition-group",{attrs:{appear:"","enter-active-class":"animated fadeIn slow","leave-active-class":"animated fadeOut slow"}},t._l(t.posts,(function(e){return o("q-item",{key:e.id,staticClass:"post q-py-md"},[o("q-item-section",{attrs:{avatar:"",top:""}},[o("q-avatar",{attrs:{size:"xl"}},[o("img",{attrs:{src:"https://en.gravatar.com/userimage/202821422/a87e067304889e88293c27db83cba1e3.jpeg"}})])],1),o("q-item-section",[o("q-item-label",{staticClass:"text-subtitle1"},[o("strong",[t._v("Anthony Bergen")]),o("span",{staticClass:"text-grey-7"},[t._v("\n                @bergenphysique "),o("br",{staticClass:"lt-md"}),t._v("â€¢\n                "+t._s(t._f("relativeDate")(e.date))+"\n              ")])]),o("q-item-label",{staticClass:"post-content text-body1"},[t._v(t._s(e.content)+"\n            ")]),o("div",{staticClass:"row justify-between q-mt-sm post-icons"},[o("q-btn",{attrs:{flat:"",round:"",color:"grey",size:"sm",icon:"far fa-comment"}}),o("q-btn",{attrs:{flat:"",round:"",color:e.reposted?"green":"grey",size:"sm",icon:"fas fa-retweet"},on:{click:function(o){return t.toggleReposted(e)}}}),o("q-btn",{attrs:{color:e.liked?"pink":"grey",icon:e.liked?"fas fa-heart":"far fa-heart",size:"sm",flat:"",round:""},on:{click:function(o){return t.toggleLiked(e)}}}),o("q-btn",{attrs:{flat:"",round:"",color:"grey",size:"sm",icon:"fas fa-trash"},on:{click:function(o){return t.deletePost(e)}}})],1)],1)],1)})),1)],1)],1)],1)},a=[],n=o("fc1b"),r=o("1556"),c={name:"PageIndex",data(){return{newPostContent:"",posts:[]}},methods:{addNewPost(){let t={content:this.newPostContent,date:Date.now(),liked:!1,reposted:!1};n["a"].collection("posts").add(t).then((t=>{console.log("Document written with ID: ",t.id)})).catch((t=>{console.error("Error adding document: ",t)})),this.newPostContent=""},deletePost(t){n["a"].collection("posts").doc(t.id).delete().then((()=>{console.log("Document successfully deleted!")})).catch((t=>{console.error("Error removing document: ",t)}))},toggleLiked(t){n["a"].collection("posts").doc(t.id).update({liked:!t.liked}).then((()=>{console.log("Document successfully updated!")})).catch((t=>{console.error("Error updating document: ",t)}))},toggleReposted(t){n["a"].collection("posts").doc(t.id).update({reposted:!t.reposted}).then((()=>{console.log("Document successfully updated!")})).catch((t=>{console.error("Error updating document: ",t)}))}},filters:{relativeDate(t){return Object(r["a"])(t,new Date)}},mounted(){n["a"].collection("posts").orderBy("date").onSnapshot((t=>{t.docChanges().forEach((t=>{let e=t.doc.data();if(e.id=t.doc.id,"added"===t.type&&(console.log("New post: ",e),this.posts.unshift(e)),"modified"===t.type){console.log("Modified post: ",e);let t=this.posts.findIndex((t=>t.id===e.id));Object.assign(this.posts[t],e)}if("removed"===t.type){console.log("Removed post: ",e);let t=this.posts.findIndex((t=>t.id===e.id));this.posts.splice(t,1)}}))}))}},i=c,l=(o("424e"),o("2877")),d=o("9989"),p=o("4983"),u=o("27f9"),m=o("cb32"),f=o("9c40"),g=o("eb85"),h=o("1c1c"),b=o("66e5"),w=o("4074"),v=o("0170"),q=o("eebe"),y=o.n(q),C=Object(l["a"])(i,s,a,!1,null,null,null);e["default"]=C.exports;y()(C,"components",{QPage:d["a"],QScrollArea:p["a"],QInput:u["a"],QAvatar:m["a"],QBtn:f["a"],QSeparator:g["a"],QList:h["a"],QItem:b["a"],QItemSection:w["a"],QItemLabel:v["a"]})}}]);